{
  "id": "7bb2b9c5-ad6b-46fd-97e5-f9abf10484c0",
  "prevId": "8d4c0354-d27e-42dd-956f-311ebd9c1c63",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "user_roles_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_roles_user_id_unique": {
          "name": "user_roles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "user_roles_select_own": {
          "name": "user_roles_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "auth.uid() = \"user_roles\".\"user_id\""
        },
        "user_roles_select_admin": {
          "name": "user_roles_select_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "user_roles_insert_admin": {
          "name": "user_roles_insert_admin",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "user_roles_update_admin": {
          "name": "user_roles_update_admin",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())",
          "withCheck": "public.is_admin(auth.uid())"
        },
        "user_roles_delete_admin": {
          "name": "user_roles_delete_admin",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_addresses": {
      "name": "user_addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "given_name": {
          "name": "given_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "family_name": {
          "name": "family_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_addresses_user_id_users_id_fk": {
          "name": "user_addresses_user_id_users_id_fk",
          "tableFrom": "user_addresses",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "user_addresses_select_policy": {
          "name": "user_addresses_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\"user_addresses\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "user_addresses_insert_policy": {
          "name": "user_addresses_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\"user_addresses\".\"user_id\" = auth.uid()"
        },
        "user_addresses_update_policy": {
          "name": "user_addresses_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\"user_addresses\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())",
          "withCheck": "\"user_addresses\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "user_addresses_delete_policy": {
          "name": "user_addresses_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\"user_addresses\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mfa_codes": {
      "name": "mfa_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_used": {
          "name": "is_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "mfa_codes_select_policy": {
          "name": "mfa_codes_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "mfa_codes_insert_policy": {
          "name": "mfa_codes_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "mfa_codes_update_policy": {
          "name": "mfa_codes_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "mfa_codes_delete_policy": {
          "name": "mfa_codes_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.access_requests": {
      "name": "access_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form_data": {
          "name": "form_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "access_requests_select_policy": {
          "name": "access_requests_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "access_requests_insert_policy": {
          "name": "access_requests_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "access_requests_update_policy": {
          "name": "access_requests_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "access_requests_delete_policy": {
          "name": "access_requests_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_transactions": {
      "name": "payment_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prescription_id": {
          "name": "prescription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount_cents": {
          "name": "total_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "consultation_fee_cents": {
          "name": "consultation_fee_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "medication_cost_cents": {
          "name": "medication_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "shipping_fee_cents": {
          "name": "shipping_fee_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "patient_email": {
          "name": "patient_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "patient_phone": {
          "name": "patient_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "patient_name": {
          "name": "patient_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_name": {
          "name": "provider_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pharmacy_name": {
          "name": "pharmacy_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authnet_ref_id": {
          "name": "authnet_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authnet_transaction_id": {
          "name": "authnet_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authnet_authorization_code": {
          "name": "authnet_authorization_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authnet_response_code": {
          "name": "authnet_response_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authnet_response_reason": {
          "name": "authnet_response_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_token": {
          "name": "payment_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_link_url": {
          "name": "payment_link_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_link_expires_at": {
          "name": "payment_link_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_link_used_at": {
          "name": "payment_link_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "card_last_four": {
          "name": "card_last_four",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "card_type": {
          "name": "card_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "order_progress": {
          "name": "order_progress",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'payment_pending'"
        },
        "delivery_method": {
          "name": "delivery_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pickup'"
        },
        "tracking_number": {
          "name": "tracking_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_url": {
          "name": "tracking_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_link_email_sent_at": {
          "name": "payment_link_email_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_confirmation_email_sent_at": {
          "name": "payment_confirmation_email_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_received_at": {
          "name": "webhook_received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_payload": {
          "name": "webhook_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refund_amount_cents": {
          "name": "refund_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "refunded_at": {
          "name": "refunded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payment_transactions_prescription_id_prescriptions_id_fk": {
          "name": "payment_transactions_prescription_id_prescriptions_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "prescriptions",
          "columnsFrom": [
            "prescription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_transactions_patient_id_patients_id_fk": {
          "name": "payment_transactions_patient_id_patients_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_transactions_provider_id_providers_id_fk": {
          "name": "payment_transactions_provider_id_providers_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_transactions_pharmacy_id_pharmacies_id_fk": {
          "name": "payment_transactions_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payment_transactions_authnet_ref_id_unique": {
          "name": "payment_transactions_authnet_ref_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "authnet_ref_id"
          ]
        },
        "payment_transactions_payment_token_unique": {
          "name": "payment_transactions_payment_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "payment_token"
          ]
        }
      },
      "policies": {
        "payment_transactions_select_policy": {
          "name": "payment_transactions_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"payment_transactions\".\"patient_id\")\n      OR public.is_own_provider_record(\"payment_transactions\".\"provider_id\")\n      OR public.provider_has_patient_access(\"payment_transactions\".\"patient_id\")\n      OR public.is_pharmacy_admin(\"payment_transactions\".\"pharmacy_id\")\n    "
        },
        "payment_transactions_insert_policy": {
          "name": "payment_transactions_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR (public.is_own_provider_record(\"payment_transactions\".\"provider_id\")\n          AND public.provider_has_patient_access(\"payment_transactions\".\"patient_id\"))\n    "
        },
        "payment_transactions_update_policy": {
          "name": "payment_transactions_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR (public.is_own_provider_record(\"payment_transactions\".\"provider_id\")\n          AND public.provider_has_patient_access(\"payment_transactions\".\"patient_id\"))\n      OR public.is_pharmacy_admin(\"payment_transactions\".\"pharmacy_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR (public.is_own_provider_record(\"payment_transactions\".\"provider_id\")\n          AND public.provider_has_patient_access(\"payment_transactions\".\"patient_id\"))\n      OR public.is_pharmacy_admin(\"payment_transactions\".\"pharmacy_id\")\n    "
        },
        "payment_transactions_delete_policy": {
          "name": "payment_transactions_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.platform_managers": {
      "name": "platform_managers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "platform_managers_select_policy": {
          "name": "platform_managers_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid()) OR public.is_provider()"
        },
        "platform_managers_insert_policy": {
          "name": "platform_managers_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "platform_managers_update_policy": {
          "name": "platform_managers_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "platform_managers_delete_policy": {
          "name": "platform_managers_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.groups": {
      "name": "groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform_manager_id": {
          "name": "platform_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "groups_platform_manager_id_platform_managers_id_fk": {
          "name": "groups_platform_manager_id_platform_managers_id_fk",
          "tableFrom": "groups",
          "tableTo": "platform_managers",
          "columnsFrom": [
            "platform_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "groups_select_policy": {
          "name": "groups_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid()) OR public.is_provider()"
        },
        "groups_insert_policy": {
          "name": "groups_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "groups_update_policy": {
          "name": "groups_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "groups_delete_policy": {
          "name": "groups_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.providers": {
      "name": "providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "provider_gender",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_url": {
          "name": "signature_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "npi_number": {
          "name": "npi_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specialties": {
          "name": "specialties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "medical_licenses": {
          "name": "medical_licenses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "board_certifications": {
          "name": "board_certifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "education_training": {
          "name": "education_training",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "languages_spoken": {
          "name": "languages_spoken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "professional_associations": {
          "name": "professional_associations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "professional_bio": {
          "name": "professional_bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "practice_type": {
          "name": "practice_type",
          "type": "practice_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "practice_address": {
          "name": "practice_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "services_offered": {
          "name": "services_offered",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_plans_accepted": {
          "name": "insurance_plans_accepted",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hospital_affiliations": {
          "name": "hospital_affiliations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "physical_address": {
          "name": "physical_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "billing_address": {
          "name": "billing_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_details": {
          "name": "payment_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_schedule": {
          "name": "payment_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier_level": {
          "name": "tier_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_shipping_fee": {
          "name": "default_shipping_fee",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 40
        },
        "specialty": {
          "name": "specialty",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "licensed_states": {
          "name": "licensed_states",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "service_types": {
          "name": "service_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_plans": {
          "name": "insurance_plans",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "providers_user_id_users_id_fk": {
          "name": "providers_user_id_users_id_fk",
          "tableFrom": "providers",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "providers_group_id_groups_id_fk": {
          "name": "providers_group_id_groups_id_fk",
          "tableFrom": "providers",
          "tableTo": "groups",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "providers_user_id_unique": {
          "name": "providers_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "providers_npi_number_unique": {
          "name": "providers_npi_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "npi_number"
          ]
        }
      },
      "policies": {
        "providers_select_policy": {
          "name": "providers_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR \"providers\".\"user_id\" = auth.uid()\n      OR \"providers\".\"is_active\" = true\n    "
        },
        "providers_insert_policy": {
          "name": "providers_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR \"providers\".\"user_id\" = auth.uid()\n    "
        },
        "providers_update_policy": {
          "name": "providers_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR \"providers\".\"user_id\" = auth.uid()\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR \"providers\".\"user_id\" = auth.uid()\n    "
        },
        "providers_delete_policy": {
          "name": "providers_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patients": {
      "name": "patients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "physical_address": {
          "name": "physical_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "billing_address": {
          "name": "billing_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "emr_data": {
          "name": "emr_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "emr_created_at": {
          "name": "emr_created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "emr_updated_at": {
          "name": "emr_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patients_user_id_users_id_fk": {
          "name": "patients_user_id_users_id_fk",
          "tableFrom": "patients",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "patients_provider_id_providers_id_fk": {
          "name": "patients_provider_id_providers_id_fk",
          "tableFrom": "patients",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "patients_user_id_unique": {
          "name": "patients_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {
        "patients_select_policy": {
          "name": "patients_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR \"patients\".\"user_id\" = auth.uid()\n      OR public.provider_has_patient_access(\"patients\".\"id\")\n    "
        },
        "patients_insert_policy": {
          "name": "patients_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR \"patients\".\"user_id\" = auth.uid()\n      OR public.is_provider()\n    "
        },
        "patients_update_policy": {
          "name": "patients_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR \"patients\".\"user_id\" = auth.uid()\n      OR public.provider_has_patient_access(\"patients\".\"id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR \"patients\".\"user_id\" = auth.uid()\n      OR public.provider_has_patient_access(\"patients\".\"id\")\n    "
        },
        "patients_delete_policy": {
          "name": "patients_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_patient_mappings": {
      "name": "provider_patient_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_provider_patient_mappings_provider_id": {
          "name": "idx_provider_patient_mappings_provider_id",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_patient_mappings_patient_id": {
          "name": "idx_provider_patient_mappings_patient_id",
          "columns": [
            {
              "expression": "patient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "provider_patient_mappings_provider_id_providers_id_fk": {
          "name": "provider_patient_mappings_provider_id_providers_id_fk",
          "tableFrom": "provider_patient_mappings",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "provider_patient_mappings_patient_id_patients_id_fk": {
          "name": "provider_patient_mappings_patient_id_patients_id_fk",
          "tableFrom": "provider_patient_mappings",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "provider_patient_unique": {
          "name": "provider_patient_unique",
          "nullsNotDistinct": false,
          "columns": [
            "provider_id",
            "patient_id"
          ]
        }
      },
      "policies": {
        "ppm_select_policy": {
          "name": "ppm_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_patient_mappings\".\"provider_id\")\n        OR public.is_own_patient_record(\"provider_patient_mappings\".\"patient_id\")\n      "
        },
        "ppm_insert_policy": {
          "name": "ppm_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_patient_mappings\".\"provider_id\")\n      "
        },
        "ppm_update_policy": {
          "name": "ppm_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())",
          "withCheck": "public.is_admin(auth.uid())"
        },
        "ppm_delete_policy": {
          "name": "ppm_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.appointments": {
      "name": "appointments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "datetime": {
          "name": "datetime",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appointments_provider_id_providers_id_fk": {
          "name": "appointments_provider_id_providers_id_fk",
          "tableFrom": "appointments",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "appointments_patient_id_patients_id_fk": {
          "name": "appointments_patient_id_patients_id_fk",
          "tableFrom": "appointments",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "appointments_select_policy": {
          "name": "appointments_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"appointments\".\"patient_id\")\n      OR public.provider_has_patient_access(\"appointments\".\"patient_id\")\n    "
        },
        "appointments_insert_policy": {
          "name": "appointments_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"appointments\".\"patient_id\")\n      OR public.provider_has_patient_access(\"appointments\".\"patient_id\")\n    "
        },
        "appointments_update_policy": {
          "name": "appointments_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"appointments\".\"patient_id\")\n      OR public.provider_has_patient_access(\"appointments\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"appointments\".\"patient_id\")\n      OR public.provider_has_patient_access(\"appointments\".\"patient_id\")\n    "
        },
        "appointments_delete_policy": {
          "name": "appointments_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_availability": {
      "name": "provider_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "provider_timezone": {
          "name": "provider_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "provider_availability_provider_id_providers_id_fk": {
          "name": "provider_availability_provider_id_providers_id_fk",
          "tableFrom": "provider_availability",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "provider_availability_select_policy": {
          "name": "provider_availability_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "provider_availability_insert_policy": {
          "name": "provider_availability_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_availability\".\"provider_id\")\n    "
        },
        "provider_availability_update_policy": {
          "name": "provider_availability_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_availability\".\"provider_id\")\n    "
        },
        "provider_availability_delete_policy": {
          "name": "provider_availability_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_availability\".\"provider_id\")\n    "
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_availability_exceptions": {
      "name": "provider_availability_exceptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "exception_date": {
          "name": "exception_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_available": {
          "name": "is_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "provider_timezone": {
          "name": "provider_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "provider_availability_exceptions_provider_id_providers_id_fk": {
          "name": "provider_availability_exceptions_provider_id_providers_id_fk",
          "tableFrom": "provider_availability_exceptions",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "provider_availability_exceptions_select_policy": {
          "name": "provider_availability_exceptions_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_availability_exceptions\".\"provider_id\")\n      "
        },
        "provider_availability_exceptions_insert_policy": {
          "name": "provider_availability_exceptions_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_availability_exceptions\".\"provider_id\")\n      "
        },
        "provider_availability_exceptions_update_policy": {
          "name": "provider_availability_exceptions_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_availability_exceptions\".\"provider_id\")\n      "
        },
        "provider_availability_exceptions_delete_policy": {
          "name": "provider_availability_exceptions_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR public.is_own_provider_record(\"provider_availability_exceptions\".\"provider_id\")\n      "
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_settings": {
      "name": "app_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "app_settings_key_unique": {
          "name": "app_settings_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {
        "app_settings_select_policy": {
          "name": "app_settings_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "app_settings_insert_policy": {
          "name": "app_settings_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "app_settings_update_policy": {
          "name": "app_settings_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())",
          "withCheck": "public.is_admin(auth.uid())"
        },
        "app_settings_delete_policy": {
          "name": "app_settings_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_settings": {
      "name": "provider_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "default_telehealth_duration": {
          "name": "default_telehealth_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "default_inperson_duration": {
          "name": "default_inperson_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 45
        },
        "allowed_durations": {
          "name": "allowed_durations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[15,30,45,60,90]'::jsonb"
        },
        "enabled_service_types": {
          "name": "enabled_service_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[\"telehealth\",\"in_person\"]'::jsonb"
        },
        "allow_patient_duration_change": {
          "name": "allow_patient_duration_change",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "advance_booking_days": {
          "name": "advance_booking_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "min_booking_notice_hours": {
          "name": "min_booking_notice_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "provider_settings_provider_id_providers_id_fk": {
          "name": "provider_settings_provider_id_providers_id_fk",
          "tableFrom": "provider_settings",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "provider_settings_select_policy": {
          "name": "provider_settings_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_settings\".\"provider_id\")\n    "
        },
        "provider_settings_insert_policy": {
          "name": "provider_settings_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_settings\".\"provider_id\")\n    "
        },
        "provider_settings_update_policy": {
          "name": "provider_settings_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_settings\".\"provider_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_own_provider_record(\"provider_settings\".\"provider_id\")\n    "
        },
        "provider_settings_delete_policy": {
          "name": "provider_settings_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.encounters": {
      "name": "encounters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "finalized_by": {
          "name": "finalized_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_date": {
          "name": "encounter_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "encounter_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'upcoming'"
        },
        "encounter_type": {
          "name": "encounter_type",
          "type": "encounter_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'routine'"
        },
        "business_type": {
          "name": "business_type",
          "type": "encounter_business_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "appointment_id": {
          "name": "appointment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_notes": {
          "name": "provider_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "finalized_at": {
          "name": "finalized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "encounters_patient_id_patients_id_fk": {
          "name": "encounters_patient_id_patients_id_fk",
          "tableFrom": "encounters",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "encounters_provider_id_providers_id_fk": {
          "name": "encounters_provider_id_providers_id_fk",
          "tableFrom": "encounters",
          "tableTo": "providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "encounters_finalized_by_users_id_fk": {
          "name": "encounters_finalized_by_users_id_fk",
          "tableFrom": "encounters",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "finalized_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "encounters_appointment_id_appointments_id_fk": {
          "name": "encounters_appointment_id_appointments_id_fk",
          "tableFrom": "encounters",
          "tableTo": "appointments",
          "columnsFrom": [
            "appointment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "encounters_order_id_orders_id_fk": {
          "name": "encounters_order_id_orders_id_fk",
          "tableFrom": "encounters",
          "tableTo": "orders",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "encounters_select_policy": {
          "name": "encounters_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"encounters\".\"patient_id\")\n      OR public.provider_has_patient_access(\"encounters\".\"patient_id\")\n    "
        },
        "encounters_insert_policy": {
          "name": "encounters_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"encounters\".\"patient_id\")\n    "
        },
        "encounters_update_policy": {
          "name": "encounters_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"encounters\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"encounters\".\"patient_id\")\n    "
        },
        "encounters_delete_policy": {
          "name": "encounters_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medications": {
      "name": "medications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "dosage": {
          "name": "dosage",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medications_patient_id_patients_id_fk": {
          "name": "medications_patient_id_patients_id_fk",
          "tableFrom": "medications",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "medications_encounter_id_encounters_id_fk": {
          "name": "medications_encounter_id_encounters_id_fk",
          "tableFrom": "medications",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "medications_select_policy": {
          "name": "medications_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"medications\".\"patient_id\")\n      OR public.provider_has_patient_access(\"medications\".\"patient_id\")\n    "
        },
        "medications_insert_policy": {
          "name": "medications_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"medications\".\"patient_id\")\n    "
        },
        "medications_update_policy": {
          "name": "medications_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"medications\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"medications\".\"patient_id\")\n    "
        },
        "medications_delete_policy": {
          "name": "medications_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conditions": {
      "name": "conditions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "onset_date": {
          "name": "onset_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'mild'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conditions_patient_id_patients_id_fk": {
          "name": "conditions_patient_id_patients_id_fk",
          "tableFrom": "conditions",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conditions_encounter_id_encounters_id_fk": {
          "name": "conditions_encounter_id_encounters_id_fk",
          "tableFrom": "conditions",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "conditions_select_policy": {
          "name": "conditions_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"conditions\".\"patient_id\")\n      OR public.provider_has_patient_access(\"conditions\".\"patient_id\")\n    "
        },
        "conditions_insert_policy": {
          "name": "conditions_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"conditions\".\"patient_id\")\n    "
        },
        "conditions_update_policy": {
          "name": "conditions_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"conditions\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"conditions\".\"patient_id\")\n    "
        },
        "conditions_delete_policy": {
          "name": "conditions_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.allergies": {
      "name": "allergies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_allergic": {
          "name": "is_allergic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allergen": {
          "name": "allergen",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "reaction_type": {
          "name": "reaction_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'mild'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "allergies_patient_id_patients_id_fk": {
          "name": "allergies_patient_id_patients_id_fk",
          "tableFrom": "allergies",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "allergies_encounter_id_encounters_id_fk": {
          "name": "allergies_encounter_id_encounters_id_fk",
          "tableFrom": "allergies",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "allergies_select_policy": {
          "name": "allergies_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"allergies\".\"patient_id\")\n      OR public.provider_has_patient_access(\"allergies\".\"patient_id\")\n    "
        },
        "allergies_insert_policy": {
          "name": "allergies_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"allergies\".\"patient_id\")\n    "
        },
        "allergies_update_policy": {
          "name": "allergies_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"allergies\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"allergies\".\"patient_id\")\n    "
        },
        "allergies_delete_policy": {
          "name": "allergies_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vitals": {
      "name": "vitals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "blood_pressure": {
          "name": "blood_pressure",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "heart_rate": {
          "name": "heart_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "blood_oxygen": {
          "name": "blood_oxygen",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bmi": {
          "name": "bmi",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "respiratory_rate": {
          "name": "respiratory_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "vitals_patient_id_patients_id_fk": {
          "name": "vitals_patient_id_patients_id_fk",
          "tableFrom": "vitals",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "vitals_encounter_id_encounters_id_fk": {
          "name": "vitals_encounter_id_encounters_id_fk",
          "tableFrom": "vitals",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "vitals_select_policy": {
          "name": "vitals_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"vitals\".\"patient_id\")\n      OR public.provider_has_patient_access(\"vitals\".\"patient_id\")\n    "
        },
        "vitals_insert_policy": {
          "name": "vitals_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"vitals\".\"patient_id\")\n    "
        },
        "vitals_update_policy": {
          "name": "vitals_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"vitals\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"vitals\".\"patient_id\")\n    "
        },
        "vitals_delete_policy": {
          "name": "vitals_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.emr_orders": {
      "name": "emr_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ordered_by": {
          "name": "ordered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_type": {
          "name": "order_type",
          "type": "order_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ordered_at": {
          "name": "ordered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "emr_orders_patient_id_patients_id_fk": {
          "name": "emr_orders_patient_id_patients_id_fk",
          "tableFrom": "emr_orders",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "emr_orders_encounter_id_encounters_id_fk": {
          "name": "emr_orders_encounter_id_encounters_id_fk",
          "tableFrom": "emr_orders",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "emr_orders_ordered_by_users_id_fk": {
          "name": "emr_orders_ordered_by_users_id_fk",
          "tableFrom": "emr_orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "ordered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "emr_orders_select_policy": {
          "name": "emr_orders_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"emr_orders\".\"patient_id\")\n      OR public.provider_has_patient_access(\"emr_orders\".\"patient_id\")\n    "
        },
        "emr_orders_insert_policy": {
          "name": "emr_orders_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"emr_orders\".\"patient_id\")\n    "
        },
        "emr_orders_update_policy": {
          "name": "emr_orders_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"emr_orders\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"emr_orders\".\"patient_id\")\n    "
        },
        "emr_orders_delete_policy": {
          "name": "emr_orders_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.addendums": {
      "name": "addendums",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "addendums_encounter_id_encounters_id_fk": {
          "name": "addendums_encounter_id_encounters_id_fk",
          "tableFrom": "addendums",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "addendums_select_policy": {
          "name": "addendums_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        WHERE e.id = \"addendums\".\"encounter_id\"\n        AND (\n          public.is_own_patient_record(e.patient_id)\n          OR public.provider_has_patient_access(e.patient_id)\n        )\n      )\n    "
        },
        "addendums_insert_policy": {
          "name": "addendums_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        WHERE e.id = \"addendums\".\"encounter_id\"\n        AND public.provider_has_patient_access(e.patient_id)\n      )\n    "
        },
        "addendums_update_policy": {
          "name": "addendums_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        WHERE e.id = \"addendums\".\"encounter_id\"\n        AND public.provider_has_patient_access(e.patient_id)\n      )\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        WHERE e.id = \"addendums\".\"encounter_id\"\n        AND public.provider_has_patient_access(e.patient_id)\n      )\n    "
        },
        "addendums_delete_policy": {
          "name": "addendums_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_diagnoses": {
      "name": "billing_diagnoses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "billing_group_id": {
          "name": "billing_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "icd_code": {
          "name": "icd_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "billing_diagnoses_billing_group_id_billing_groups_id_fk": {
          "name": "billing_diagnoses_billing_group_id_billing_groups_id_fk",
          "tableFrom": "billing_diagnoses",
          "tableTo": "billing_groups",
          "columnsFrom": [
            "billing_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "billing_diagnoses_select_policy": {
          "name": "billing_diagnoses_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_diagnoses\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_diagnoses_insert_policy": {
          "name": "billing_diagnoses_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_diagnoses\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_diagnoses_update_policy": {
          "name": "billing_diagnoses_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_diagnoses\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_diagnoses\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_diagnoses_delete_policy": {
          "name": "billing_diagnoses_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_groups": {
      "name": "billing_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "procedure_code": {
          "name": "procedure_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "procedure_description": {
          "name": "procedure_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "modifiers": {
          "name": "modifiers",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "billing_groups_encounter_id_encounters_id_fk": {
          "name": "billing_groups_encounter_id_encounters_id_fk",
          "tableFrom": "billing_groups",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "billing_groups_select_policy": {
          "name": "billing_groups_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        JOIN providers p ON p.id = e.provider_id\n        WHERE e.id = \"billing_groups\".\"encounter_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_groups_insert_policy": {
          "name": "billing_groups_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        JOIN providers p ON p.id = e.provider_id\n        WHERE e.id = \"billing_groups\".\"encounter_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_groups_update_policy": {
          "name": "billing_groups_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        JOIN providers p ON p.id = e.provider_id\n        WHERE e.id = \"billing_groups\".\"encounter_id\"\n        AND p.user_id = auth.uid()\n      )\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM encounters e\n        JOIN providers p ON p.id = e.provider_id\n        WHERE e.id = \"billing_groups\".\"encounter_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_groups_delete_policy": {
          "name": "billing_groups_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_procedures": {
      "name": "billing_procedures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "billing_group_id": {
          "name": "billing_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cpt_code": {
          "name": "cpt_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "billing_procedures_billing_group_id_billing_groups_id_fk": {
          "name": "billing_procedures_billing_group_id_billing_groups_id_fk",
          "tableFrom": "billing_procedures",
          "tableTo": "billing_groups",
          "columnsFrom": [
            "billing_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "billing_procedures_select_policy": {
          "name": "billing_procedures_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_procedures\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_procedures_insert_policy": {
          "name": "billing_procedures_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_procedures\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_procedures_update_policy": {
          "name": "billing_procedures_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_procedures\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR EXISTS (\n        SELECT 1 FROM billing_groups bg\n        JOIN encounters e ON e.id = bg.encounter_id\n        JOIN providers p ON p.id = e.provider_id\n        WHERE bg.id = \"billing_procedures\".\"billing_group_id\"\n        AND p.user_id = auth.uid()\n      )\n    "
        },
        "billing_procedures_delete_policy": {
          "name": "billing_procedures_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patient_documents": {
      "name": "patient_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prescription_id": {
          "name": "prescription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_category": {
          "name": "document_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patient_documents_patient_id_patients_id_fk": {
          "name": "patient_documents_patient_id_patients_id_fk",
          "tableFrom": "patient_documents",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "patient_documents_prescription_id_prescriptions_id_fk": {
          "name": "patient_documents_prescription_id_prescriptions_id_fk",
          "tableFrom": "patient_documents",
          "tableTo": "prescriptions",
          "columnsFrom": [
            "prescription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "patient_documents_uploaded_by_users_id_fk": {
          "name": "patient_documents_uploaded_by_users_id_fk",
          "tableFrom": "patient_documents",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "patient_documents_select_policy": {
          "name": "patient_documents_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_own_patient_record(\"patient_documents\".\"patient_id\")\n      OR public.provider_has_patient_access(\"patient_documents\".\"patient_id\")\n    "
        },
        "patient_documents_insert_policy": {
          "name": "patient_documents_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"patient_documents\".\"patient_id\")\n    "
        },
        "patient_documents_update_policy": {
          "name": "patient_documents_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"patient_documents\".\"patient_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.provider_has_patient_access(\"patient_documents\".\"patient_id\")\n    "
        },
        "patient_documents_delete_policy": {
          "name": "patient_documents_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prescriptions": {
      "name": "prescriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prescriber_id": {
          "name": "prescriber_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "encounter_id": {
          "name": "encounter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "appointment_id": {
          "name": "appointment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "medication": {
          "name": "medication",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dosage": {
          "name": "dosage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dosage_amount": {
          "name": "dosage_amount",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dosage_unit": {
          "name": "dosage_unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vial_size": {
          "name": "vial_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form": {
          "name": "form",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "refills": {
          "name": "refills",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "sig": {
          "name": "sig",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dispense_as_written": {
          "name": "dispense_as_written",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pharmacy_notes": {
          "name": "pharmacy_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_prescription_id": {
          "name": "parent_prescription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prescription_type": {
          "name": "prescription_type",
          "type": "prescription_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'prescription'"
        },
        "refill_frequency_days": {
          "name": "refill_frequency_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_refill_date": {
          "name": "next_refill_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_refills_to_date": {
          "name": "total_refills_to_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "patient_price": {
          "name": "patient_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medication_id": {
          "name": "medication_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "backend_id": {
          "name": "backend_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "profit_cents": {
          "name": "profit_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "consultation_reason": {
          "name": "consultation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_fee_cents": {
          "name": "shipping_fee_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_paid_cents": {
          "name": "total_paid_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unpaid'"
        },
        "order_progress": {
          "name": "order_progress",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'payment_pending'"
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_storage_path": {
          "name": "pdf_storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_document_id": {
          "name": "pdf_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rx_number": {
          "name": "rx_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'submitted'"
        },
        "tracking_number": {
          "name": "tracking_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fedex_status": {
          "name": "fedex_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_delivery": {
          "name": "estimated_delivery",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_tracking_check": {
          "name": "last_tracking_check",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_to_pharmacy_at": {
          "name": "submitted_to_pharmacy_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "has_custom_address": {
          "name": "has_custom_address",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "custom_address": {
          "name": "custom_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "prescriptions_prescriber_id_users_id_fk": {
          "name": "prescriptions_prescriber_id_users_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "prescriber_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prescriptions_patient_id_patients_id_fk": {
          "name": "prescriptions_patient_id_patients_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prescriptions_encounter_id_encounters_id_fk": {
          "name": "prescriptions_encounter_id_encounters_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "encounters",
          "columnsFrom": [
            "encounter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "prescriptions_appointment_id_appointments_id_fk": {
          "name": "prescriptions_appointment_id_appointments_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "appointments",
          "columnsFrom": [
            "appointment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "prescriptions_medication_id_pharmacy_medications_id_fk": {
          "name": "prescriptions_medication_id_pharmacy_medications_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "pharmacy_medications",
          "columnsFrom": [
            "medication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "prescriptions_pharmacy_id_pharmacies_id_fk": {
          "name": "prescriptions_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "prescriptions_backend_id_pharmacy_backends_id_fk": {
          "name": "prescriptions_backend_id_pharmacy_backends_id_fk",
          "tableFrom": "prescriptions",
          "tableTo": "pharmacy_backends",
          "columnsFrom": [
            "backend_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prescriptions_queue_id_unique": {
          "name": "prescriptions_queue_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "queue_id"
          ]
        },
        "prescriptions_rx_number_unique": {
          "name": "prescriptions_rx_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "rx_number"
          ]
        }
      },
      "policies": {
        "prescriptions_select_policy": {
          "name": "prescriptions_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR \"prescriptions\".\"prescriber_id\" = auth.uid()\n      OR public.is_own_patient_record(\"prescriptions\".\"patient_id\")\n      OR public.provider_has_patient_access(\"prescriptions\".\"patient_id\")\n      OR public.is_pharmacy_admin(\"prescriptions\".\"pharmacy_id\")\n    "
        },
        "prescriptions_insert_policy": {
          "name": "prescriptions_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR (\"prescriptions\".\"prescriber_id\" = auth.uid()\n          AND public.provider_has_patient_access(\"prescriptions\".\"patient_id\"))\n    "
        },
        "prescriptions_update_policy": {
          "name": "prescriptions_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR (\"prescriptions\".\"prescriber_id\" = auth.uid()\n          AND public.provider_has_patient_access(\"prescriptions\".\"patient_id\"))\n      OR public.is_pharmacy_admin(\"prescriptions\".\"pharmacy_id\")\n    ",
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR (\"prescriptions\".\"prescriber_id\" = auth.uid()\n          AND public.provider_has_patient_access(\"prescriptions\".\"patient_id\"))\n      OR public.is_pharmacy_admin(\"prescriptions\".\"pharmacy_id\")\n    "
        },
        "prescriptions_delete_policy": {
          "name": "prescriptions_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medication_catalog": {
      "name": "medication_catalog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "medication_name": {
          "name": "medication_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "vial_size": {
          "name": "vial_size",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "dosage_amount": {
          "name": "dosage_amount",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "dosage_unit": {
          "name": "dosage_unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "form": {
          "name": "form",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "refills": {
          "name": "refills",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "sig": {
          "name": "sig",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pharmacy_notes": {
          "name": "pharmacy_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "patient_price": {
          "name": "patient_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "doctor_price": {
          "name": "doctor_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "medication_catalog_select_policy": {
          "name": "medication_catalog_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "medication_catalog_insert_policy": {
          "name": "medication_catalog_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "medication_catalog_update_policy": {
          "name": "medication_catalog_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "medication_catalog_delete_policy": {
          "name": "medication_catalog_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacies": {
      "name": "pharmacies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#00AEEF'"
        },
        "tagline": {
          "name": "tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "npi": {
          "name": "npi",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dea_number": {
          "name": "dea_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ncpdp_number": {
          "name": "ncpdp_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pharmacies_slug_unique": {
          "name": "pharmacies_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {
        "pharmacies_select_policy": {
          "name": "pharmacies_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "pharmacies_insert_policy": {
          "name": "pharmacies_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "pharmacies_update_policy": {
          "name": "pharmacies_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "pharmacies_delete_policy": {
          "name": "pharmacies_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacy_backends": {
      "name": "pharmacy_backends",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "system_type": {
          "name": "system_type",
          "type": "pharmacy_system_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "api_url": {
          "name": "api_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_key_encrypted": {
          "name": "api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "store_id": {
          "name": "store_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pharmacy_backends_pharmacy_id_pharmacies_id_fk": {
          "name": "pharmacy_backends_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "pharmacy_backends",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "pharmacy_backends_select_policy": {
          "name": "pharmacy_backends_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "pharmacy_backends_insert_policy": {
          "name": "pharmacy_backends_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "pharmacy_backends_update_policy": {
          "name": "pharmacy_backends_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "pharmacy_backends_delete_policy": {
          "name": "pharmacy_backends_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacy_medications": {
      "name": "pharmacy_medications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "form": {
          "name": "form",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ndc": {
          "name": "ndc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vial_size": {
          "name": "vial_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retail_price_cents": {
          "name": "retail_price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "aimrx_site_pricing_cents": {
          "name": "aimrx_site_pricing_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Standard Formulations'"
        },
        "dosage_instructions": {
          "name": "dosage_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detailed_description": {
          "name": "detailed_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "in_stock": {
          "name": "in_stock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "preparation_time_days": {
          "name": "preparation_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pharmacy_medications_pharmacy_id_pharmacies_id_fk": {
          "name": "pharmacy_medications_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "pharmacy_medications",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "pharmacy_medications_select_policy": {
          "name": "pharmacy_medications_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_provider()\n      OR public.is_pharmacy_admin(\"pharmacy_medications\".\"pharmacy_id\")\n    "
        },
        "pharmacy_medications_insert_policy": {
          "name": "pharmacy_medications_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      public.is_admin(auth.uid())\n      OR public.is_pharmacy_admin(\"pharmacy_medications\".\"pharmacy_id\")\n    "
        },
        "pharmacy_medications_update_policy": {
          "name": "pharmacy_medications_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_pharmacy_admin(\"pharmacy_medications\".\"pharmacy_id\")\n    "
        },
        "pharmacy_medications_delete_policy": {
          "name": "pharmacy_medications_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\n      public.is_admin(auth.uid())\n      OR public.is_pharmacy_admin(\"pharmacy_medications\".\"pharmacy_id\")\n    "
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_pharmacy_links": {
      "name": "provider_pharmacy_links",
      "schema": "",
      "columns": {
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "custom_markup_percent": {
          "name": "custom_markup_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "provider_pharmacy_links_provider_id_users_id_fk": {
          "name": "provider_pharmacy_links_provider_id_users_id_fk",
          "tableFrom": "provider_pharmacy_links",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "provider_pharmacy_links_pharmacy_id_pharmacies_id_fk": {
          "name": "provider_pharmacy_links_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "provider_pharmacy_links",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "provider_pharmacy_links_provider_id_pharmacy_id_pk": {
          "name": "provider_pharmacy_links_provider_id_pharmacy_id_pk",
          "columns": [
            "provider_id",
            "pharmacy_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "provider_pharmacy_links_select_policy": {
          "name": "provider_pharmacy_links_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR \"provider_pharmacy_links\".\"provider_id\" = auth.uid()\n        OR public.is_pharmacy_admin(\"provider_pharmacy_links\".\"pharmacy_id\")\n      "
        },
        "provider_pharmacy_links_insert_policy": {
          "name": "provider_pharmacy_links_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "provider_pharmacy_links_update_policy": {
          "name": "provider_pharmacy_links_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "provider_pharmacy_links_delete_policy": {
          "name": "provider_pharmacy_links_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pharmacy_admins": {
      "name": "pharmacy_admins",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pharmacy_id": {
          "name": "pharmacy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pharmacy_admins_user_id_users_id_fk": {
          "name": "pharmacy_admins_user_id_users_id_fk",
          "tableFrom": "pharmacy_admins",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pharmacy_admins_pharmacy_id_pharmacies_id_fk": {
          "name": "pharmacy_admins_pharmacy_id_pharmacies_id_fk",
          "tableFrom": "pharmacy_admins",
          "tableTo": "pharmacies",
          "columnsFrom": [
            "pharmacy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pharmacy_admins_user_id_pharmacy_id_pk": {
          "name": "pharmacy_admins_user_id_pharmacy_id_pk",
          "columns": [
            "user_id",
            "pharmacy_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "pharmacy_admins_select_policy": {
          "name": "pharmacy_admins_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n        public.is_admin(auth.uid())\n        OR \"pharmacy_admins\".\"user_id\" = auth.uid()\n      "
        },
        "pharmacy_admins_insert_policy": {
          "name": "pharmacy_admins_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "pharmacy_admins_update_policy": {
          "name": "pharmacy_admins_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "pharmacy_admins_delete_policy": {
          "name": "pharmacy_admins_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tiers": {
      "name": "tiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tier_name": {
          "name": "tier_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tier_code": {
          "name": "tier_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_percentage": {
          "name": "discount_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tiers_tier_name_unique": {
          "name": "tiers_tier_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tier_name"
          ]
        },
        "tiers_tier_code_unique": {
          "name": "tiers_tier_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tier_code"
          ]
        }
      },
      "policies": {
        "tiers_select_policy": {
          "name": "tiers_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "tiers_insert_policy": {
          "name": "tiers_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "tiers_update_policy": {
          "name": "tiers_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "tiers_delete_policy": {
          "name": "tiers_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_logs": {
      "name": "system_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_name": {
          "name": "user_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "system_logs_user_id_users_id_fk": {
          "name": "system_logs_user_id_users_id_fk",
          "tableFrom": "system_logs",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "system_logs_select_policy": {
          "name": "system_logs_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "system_logs_insert_policy": {
          "name": "system_logs_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "system_logs_update_policy": {
          "name": "system_logs_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "system_logs_delete_policy": {
          "name": "system_logs_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cron_job_runs": {
      "name": "cron_job_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_name": {
          "name": "job_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "records_processed": {
          "name": "records_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "cron_job_runs_select_policy": {
          "name": "cron_job_runs_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "cron_job_runs_insert_policy": {
          "name": "cron_job_runs_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "cron_job_runs_update_policy": {
          "name": "cron_job_runs_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "cron_job_runs_delete_policy": {
          "name": "cron_job_runs_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.goal_progress": {
      "name": "goal_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "goal_id": {
          "name": "goal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current": {
          "name": "current",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "goal_progress_goal_id_goals_id_fk": {
          "name": "goal_progress_goal_id_goals_id_fk",
          "tableFrom": "goal_progress",
          "tableTo": "goals",
          "columnsFrom": [
            "goal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "goal_progress_select_policy": {
          "name": "goal_progress_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM goals g\n        WHERE g.id = \"goal_progress\".\"goal_id\"\n        AND (g.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "goal_progress_insert_policy": {
          "name": "goal_progress_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      EXISTS (\n        SELECT 1 FROM goals g\n        WHERE g.id = \"goal_progress\".\"goal_id\"\n        AND g.user_id = auth.uid()\n      )\n    "
        },
        "goal_progress_update_policy": {
          "name": "goal_progress_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM goals g\n        WHERE g.id = \"goal_progress\".\"goal_id\"\n        AND (g.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    ",
          "withCheck": "\n      EXISTS (\n        SELECT 1 FROM goals g\n        WHERE g.id = \"goal_progress\".\"goal_id\"\n        AND (g.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "goal_progress_delete_policy": {
          "name": "goal_progress_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM goals g\n        WHERE g.id = \"goal_progress\".\"goal_id\"\n        AND (g.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.goals": {
      "name": "goals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_value": {
          "name": "target_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_value": {
          "name": "current_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "custom_goal": {
          "name": "custom_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not-started'"
        },
        "tracking_source": {
          "name": "tracking_source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "timeframe": {
          "name": "timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "goals_user_id_users_id_fk": {
          "name": "goals_user_id_users_id_fk",
          "tableFrom": "goals",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "goals_select_policy": {
          "name": "goals_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\"goals\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "goals_insert_policy": {
          "name": "goals_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\"goals\".\"user_id\" = auth.uid()"
        },
        "goals_update_policy": {
          "name": "goals_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\"goals\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())",
          "withCheck": "\"goals\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "goals_delete_policy": {
          "name": "goals_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\"goals\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cover_src": {
          "name": "cover_src",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "resources_select_policy": {
          "name": "resources_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "resources_insert_policy": {
          "name": "resources_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "resources_update_policy": {
          "name": "resources_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "resources_delete_policy": {
          "name": "resources_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tags": {
      "name": "tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tags_name_unique": {
          "name": "tags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "tags_slug_unique": {
          "name": "tags_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {
        "tags_select_policy": {
          "name": "tags_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "tags_insert_policy": {
          "name": "tags_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "tags_update_policy": {
          "name": "tags_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "tags_delete_policy": {
          "name": "tags_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_actions": {
      "name": "notification_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "notification_id": {
          "name": "notification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_data": {
          "name": "action_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_actions_notification_id_notifications_id_fk": {
          "name": "notification_actions_notification_id_notifications_id_fk",
          "tableFrom": "notification_actions",
          "tableTo": "notifications",
          "columnsFrom": [
            "notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "notification_actions_select_policy": {
          "name": "notification_actions_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM notifications n\n        WHERE n.id = \"notification_actions\".\"notification_id\"\n        AND (n.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "notification_actions_insert_policy": {
          "name": "notification_actions_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "notification_actions_update_policy": {
          "name": "notification_actions_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())",
          "withCheck": "public.is_admin(auth.uid())"
        },
        "notification_actions_delete_policy": {
          "name": "notification_actions_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "read": {
          "name": "read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "critical": {
          "name": "critical",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "notifications_select_policy": {
          "name": "notifications_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\"notifications\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "notifications_insert_policy": {
          "name": "notifications_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\"notifications\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "notifications_update_policy": {
          "name": "notifications_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\"notifications\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())",
          "withCheck": "\"notifications\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "notifications_delete_policy": {
          "name": "notifications_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\"notifications\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.order_activities": {
      "name": "order_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "order_activities_order_id_orders_id_fk": {
          "name": "order_activities_order_id_orders_id_fk",
          "tableFrom": "order_activities",
          "tableTo": "orders",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "order_activities_select_policy": {
          "name": "order_activities_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM orders o\n        WHERE o.id = \"order_activities\".\"order_id\"\n        AND (o.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "order_activities_insert_policy": {
          "name": "order_activities_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "order_activities_update_policy": {
          "name": "order_activities_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "order_activities_delete_policy": {
          "name": "order_activities_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.order_line_items": {
      "name": "order_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_price": {
          "name": "subscription_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "order_line_items_order_id_orders_id_fk": {
          "name": "order_line_items_order_id_orders_id_fk",
          "tableFrom": "order_line_items",
          "tableTo": "orders",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "order_line_items_product_id_products_id_fk": {
          "name": "order_line_items_product_id_products_id_fk",
          "tableFrom": "order_line_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "order_line_items_select_policy": {
          "name": "order_line_items_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM orders o\n        WHERE o.id = \"order_line_items\".\"order_id\"\n        AND (o.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "order_line_items_insert_policy": {
          "name": "order_line_items_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\n      EXISTS (\n        SELECT 1 FROM orders o\n        WHERE o.id = \"order_line_items\".\"order_id\"\n        AND o.user_id = auth.uid()\n      )\n    "
        },
        "order_line_items_update_policy": {
          "name": "order_line_items_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\n      EXISTS (\n        SELECT 1 FROM orders o\n        WHERE o.id = \"order_line_items\".\"order_id\"\n        AND (o.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    ",
          "withCheck": "\n      EXISTS (\n        SELECT 1 FROM orders o\n        WHERE o.id = \"order_line_items\".\"order_id\"\n        AND (o.user_id = auth.uid() OR public.is_admin(auth.uid()))\n      )\n    "
        },
        "order_line_items_delete_policy": {
          "name": "order_line_items_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "order_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "shipping_address_id": {
          "name": "shipping_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_details": {
          "name": "payment_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_session_id": {
          "name": "stripe_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "orders_user_id_users_id_fk": {
          "name": "orders_user_id_users_id_fk",
          "tableFrom": "orders",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_shipping_address_id_user_addresses_id_fk": {
          "name": "orders_shipping_address_id_user_addresses_id_fk",
          "tableFrom": "orders",
          "tableTo": "user_addresses",
          "columnsFrom": [
            "shipping_address_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "orders_billing_address_id_user_addresses_id_fk": {
          "name": "orders_billing_address_id_user_addresses_id_fk",
          "tableFrom": "orders",
          "tableTo": "user_addresses",
          "columnsFrom": [
            "billing_address_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "orders_select_policy": {
          "name": "orders_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "\"orders\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "orders_insert_policy": {
          "name": "orders_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "\"orders\".\"user_id\" = auth.uid()"
        },
        "orders_update_policy": {
          "name": "orders_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "\"orders\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())",
          "withCheck": "\"orders\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        },
        "orders_delete_policy": {
          "name": "orders_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "\"orders\".\"user_id\" = auth.uid() OR public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.categories": {
      "name": "categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "color": {
          "name": "color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "categories_name_unique": {
          "name": "categories_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "categories_slug_unique": {
          "name": "categories_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {
        "categories_select_policy": {
          "name": "categories_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "categories_insert_policy": {
          "name": "categories_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "categories_update_policy": {
          "name": "categories_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "categories_delete_policy": {
          "name": "categories_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active_ingredient": {
          "name": "active_ingredient",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "benefits": {
          "name": "benefits",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "safety_info": {
          "name": "safety_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_price": {
          "name": "subscription_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_price_discounted": {
          "name": "subscription_price_discounted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stock_quantity": {
          "name": "stock_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "low_stock_threshold": {
          "name": "low_stock_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_best_seller": {
          "name": "is_best_seller",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "requires_prescription": {
          "name": "requires_prescription",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_ids": {
          "name": "stripe_price_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "products_category_id_categories_id_fk": {
          "name": "products_category_id_categories_id_fk",
          "tableFrom": "products",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_slug_unique": {
          "name": "products_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {
        "products_select_policy": {
          "name": "products_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "products_insert_policy": {
          "name": "products_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "products_update_policy": {
          "name": "products_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "products_delete_policy": {
          "name": "products_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.symptoms": {
      "name": "symptoms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_common": {
          "name": "is_common",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "symptoms_select_policy": {
          "name": "symptoms_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "symptoms_insert_policy": {
          "name": "symptoms_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "public.is_admin(auth.uid())"
        },
        "symptoms_update_policy": {
          "name": "symptoms_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        },
        "symptoms_delete_policy": {
          "name": "symptoms_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "public.is_admin(auth.uid())"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "user",
        "admin",
        "provider"
      ]
    },
    "public.experience_level": {
      "name": "experience_level",
      "schema": "public",
      "values": [
        "entry",
        "mid",
        "senior",
        "expert"
      ]
    },
    "public.provider_gender": {
      "name": "provider_gender",
      "schema": "public",
      "values": [
        "male",
        "female"
      ]
    },
    "public.practice_type": {
      "name": "practice_type",
      "schema": "public",
      "values": [
        "solo",
        "group",
        "hospital",
        "clinic",
        "telehealth"
      ]
    },
    "public.encounter_business_type": {
      "name": "encounter_business_type",
      "schema": "public",
      "values": [
        "appointment_based",
        "order_based",
        "order_based_async",
        "order_based_sync",
        "coaching",
        "manual"
      ]
    },
    "public.encounter_status": {
      "name": "encounter_status",
      "schema": "public",
      "values": [
        "upcoming",
        "completed",
        "in_progress"
      ]
    },
    "public.encounter_type": {
      "name": "encounter_type",
      "schema": "public",
      "values": [
        "routine",
        "follow_up",
        "urgent",
        "consultation"
      ]
    },
    "public.order_type": {
      "name": "order_type",
      "schema": "public",
      "values": [
        "lab",
        "imaging",
        "medication",
        "referral"
      ]
    },
    "public.prescription_type": {
      "name": "prescription_type",
      "schema": "public",
      "values": [
        "prescription",
        "refill"
      ]
    },
    "public.pharmacy_system_type": {
      "name": "pharmacy_system_type",
      "schema": "public",
      "values": [
        "DigitalRx",
        "PioneerRx",
        "QS1",
        "Liberty",
        "Custom",
        "BestRx"
      ]
    },
    "public.order_status": {
      "name": "order_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "cancelled",
        "completed",
        "active",
        "payment_failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}